angular.module("App",["ui.router"]).config(function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/slide01");for(var slideCount=7,i=1;slideCount+1>i;i++){var slide=10>i?"0"+i:i;$stateProvider.state(""+slide,{url:"/slide"+slide,templateUrl:"views/slide"+slide+".html",controller:"slide"+slide})}}),angular.module("App").factory("Data",function(){function get(callback){return data?(console.log("DATA"),data):void d3.csv("data.csv",function(dataset){data=dataset,callback(dataset)})}var data=!1;return{get:get}}),angular.module("App").controller("main",function($scope,$document,$state){var stateCount=$state.get().length-1;$scope.slides=$state.get(),$scope.slides.splice(0,1),$scope.slides.isCurrent=function(slide){return slide.name===$state.current.name},$scope.slides.click=function(slide){$state.go(slide.name)},$document.bind("keydown",function(event){var state=parseInt($state.current.name);39==event.keyCode?(state+=1,state>stateCount&&(state=1),$state.go(10>state?"0"+state:state)):37==event.keyCode&&(state-=1,1>state&&(state=stateCount),$state.go(10>state?"0"+state:state))})}).controller("slide01",function($scope,Data){}).controller("slide02",function($scope,Data){Data.get(function(data){console.log(data)})}).controller("slide03",function($scope){}).controller("slide04",function($scope){}).controller("slide05",function($scope){}).controller("slide06",function($scope){}).controller("slide07",function($scope){}).controller("slide08",function($scope){}).controller("slide09",function($scope){}).controller("slide10",function($scope){});
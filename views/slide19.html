<h2>A Simple Barchart</h2>

<p>We're ready to add some bars now.</p>

<div id="plot"></div>

<pre>

function plot() {

  var data = d3.nest()
    .key(function(d) { return d.status })
    .entries(dataset);

  });
  
  y.domain([0, d3.max(data, function(d) {
    return d.values.length;
  })]);

  axes.y.scale(scales.y);

  d3.select(".y.axis")
    .attr("transform", "translate(-5,0)")
    .call(axes.y)
    .selectAll("g");
  <span class="new">
  svg.selectAll("rect")
    .data(data)
    .enter()
    .append("rect")
    .attr("x", function(d) {
      return x(d.key)
    })
    .attr("width", x.rangeBand())
    .attr("y", function(d) {
      return y(d.values.length);
    })
    .attr("height", function(d) {
      return height - y(d.values.length)
  });</span>

}



</pre>


